(this.webpackJsonpevent_tool=this.webpackJsonpevent_tool||[]).push([[0],{40:function(e,n,t){e.exports=t(55)},45:function(e,n,t){},55:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(6),c=t.n(o),i=(t(45),t(46),t(47),t(26)),u=t(13),l=t(9),s=t.n(l),f=t(38),p=t(16),v=t(22),h=t(14),d=t(18);function w(e){return m.apply(this,arguments)}function m(){return(m=Object(p.a)(s.a.mark((function e(n){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.eventbriteapi.com/v3/users/me/",{headers:{Authorization:"Bearer ".concat(n)}});case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,n){return g.apply(this,arguments)}function g(){return(g=Object(p.a)(s.a.mark((function e(n,t){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.eventbriteapi.com/v3/users/".concat(n,"/organizations/?token=").concat(t));case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=t(15),j=t(33),y=t.n(j);var k=function(e){var n=e.event;return console.log(n),n?a.a.createElement("div",null,n.logo?a.a.createElement("img",{src:n.logo.url}):null,n.start?a.a.createElement("p",null,n.start.toLocaleString()):null,a.a.createElement("h1",null,a.a.createElement("a",{href:n.url},n.title)),a.a.createElement("p",null,n.summary),a.a.createElement("p",null,"capacity: ",n.capacity)):null};function x(){var e=Object(h.a)(["\n  margin: 20px;\n  background-color: lightgrey;\n  width: 370px;\n  border-radius: 5px;\n  padding: 8px;\n"]);return x=function(){return e},e}function O(){var e=Object(h.a)(["\n  width: 40%;\n  background-color: cornflowerblue;\n  display: flex;\n  align-items: stretch;\n"]);return O=function(){return e},e}function S(){var e=Object(h.a)(["\n  margin: 20px;\n  width: 100%;\n  background-color: white;\n"]);return S=function(){return e},e}function _(){var e=Object(h.a)(["\n  font-size: 40pt;\n  color: white;\n  font-weight: bolder;\n"]);return _=function(){return e},e}function W(){var e=Object(h.a)(["\n  width: 100vw;\n  height: 10vh;\n  background-color: cornflowerblue;\n  display: flex;\n  align-items: flex-end;\n  justify-content: center;\n"]);return W=function(){return e},e}function z(){var e=Object(h.a)(["\n  width: 100vw;\n  height: 90vh;\n  background-color: cornflowerblue;\n  display: flex;\n"]);return z=function(){return e},e}var D=E.a.div(z()),A=E.a.div(W()),L=E.a.h2(_()),P=E.a.div(S()),R=E.a.div(O()),B=E.a.div(x()),C=Object.keys(d.b).map((function(e){return d.b[e]})),T=Object(d.c)(y.a);var U=function(){var e=Object(u.e)().hash,n=Object(r.useState)([]),t=Object(v.a)(n,2),o=t[0],c=t[1],i=Object(r.useState)(!1),l=Object(v.a)(i,2),h=l[0],m=l[1],g=Object(r.useState)({}),E=Object(v.a)(g,2),j=E[0],y=E[1],x=e.split("=")[2];return Object(r.useEffect)((function(){function e(){return(e=Object(p.a)(s.a.mark((function e(n){var t,r,a,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(){return(i=Object(p.a)(s.a.mark((function e(n,t){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.map((function(e){return fetch("https://www.eventbriteapi.com/v3/organizations/".concat(e,"/events/?token=").concat(t,"&status=live"))})),Promise.all(r).then((function(e){Promise.all(e.map((function(e){return e.json()}))).then((function(e){var n=[];e.forEach((function(e){n=(n=n.concat(e.events)).map((function(e){return Object(f.a)({},e,{title:e.name.text,start:new Date(e.start.local),end:new Date(e.end.local)})}))})),c(n),m(!1)}))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)},o=function(e,n){return i.apply(this,arguments)},m(!0),e.next=5,w(n);case 5:return t=e.sent,e.next=8,b(t.id,n);case 8:r=e.sent,a=r.organizations.map((function(e){return e.id})),o(a,n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}x&&function(n){e.apply(this,arguments)}(x)}),[x]),a.a.createElement(a.a.Fragment,null,a.a.createElement(A,null,a.a.createElement(L,null,"Event Tool")),a.a.createElement(D,null,a.a.createElement(P,null,h?a.a.createElement("div",null,"Loading Data"):a.a.createElement(d.a,{localizer:T,defaultDate:new Date,showMultiDayTimes:!0,step:60,views:C,defaultView:"month",events:o,onSelectEvent:function(e){y(e)},style:{borderRadius:"5px"}})),a.a.createElement(R,null,a.a.createElement(B,null,a.a.createElement(k,{event:j})))))};function J(){var e="https://www.eventbrite.com/oauth/authorize?response_type=token&client_id=".concat("SB6DREK3YC4EMKPUV6","&redirect_uri=https://www.ericamrhein.com/event_tool/event/");return a.a.createElement("div",null,a.a.createElement("a",{href:e},"Login"))}var K=function(){return a.a.createElement(i.a,{basename:"/event_tool"},a.a.createElement(u.a,{path:"/event",component:U}),a.a.createElement(u.a,{exact:!0,path:"/",component:J}))},M=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function N(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(a.a.createElement(K,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/event_tool",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/event_tool","/service-worker.js");M?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):N(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):N(n,e)}))}}()}},[[40,1,2]]]);
//# sourceMappingURL=main.b7062e13.chunk.js.map